<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta name="google-signin-client_id" content="1028859467258-6ioql4vvepe23rpcicc6vq5so86vt7pf.apps.googleusercontent.com">

    <script src="https://apis.google.com/js/platform.js" async defer></script>
  </head>

  <body>

    <h2>Create an Account</h2>
    
    <form action="/account" method="POST">
      <p>
        Username <input type="text" name="username" required>
      </p>
      <p>
        Email <input type="text" name="email" required>
      </p>
      <p>
        Password <input type="password" name="password" required>
      </p>

      <button id="signup-btn" type="submit">Register</button>
      <!-- <button class="signupgmail-btn" type="submit">Register With Gmail</button> -->
      <div class="g-signin2" data-onsuccess="onSignIn">Log in with google</div>
    </form>

    
    <h2>Login to your Account</h2>
    <form action="/login" method="POST">
      <p>
        Email <input type="text" name="email" required>
      </p>
      <p>
        Password <input type="password" name="password" required>
      </p>

      <button id="login-btn" type="submit">Log In</button>
      <div class="g-signin2" data-onsuccess="onSignIn">Log in with google</div>
    </form>


    <script>
      function onSignIn(googleUser) {
      // Useful data for your client-side scripts:
      var profile = googleUser.getBasicProfile();
      console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
      console.log('Name: ' + profile.getName());
      console.log('Image URL: ' + profile.getImageUrl());
      console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.

      // The ID token you need to pass to your backend:
      var id_token = googleUser.getAuthResponse().id_token;
        console.log("ID Token: " + id_token);
      }
    </script>

    <!-- <a href="#" onclick="signOut();">Sign out</a> -->

    <!-- <script>
      function signOut() {
        var auth2 = gapi.auth2.getAuthInstance();
        auth2.signOut().then(function () {
          console.log('User signed out.');
        });
      }
    </script> -->

  <!-- <script>
    "use strict";
    const submittion = document.querySelector('#login-btn');
    submittion.addEventListener('click', () => {
      // evt.preventDefault();
      alert('Logged in successfully!')
    });
</script> -->

  </body>
</html>

  <!-- <script>
    "use strict";
    const submittion = document.querySelector('#signup-btn');
    submittion.addEventListener('click', () => {
      // evt.preventDefault();
      alert('Your account has been created.')
    });
</script> -->
