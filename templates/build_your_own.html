{% extends 'base.html' %}

{% block title %} Build Your Own {% endblock %}

{% block body %}

<body>
    <h1 id="username">{{ session.get("user") }}, a web developer and designer</h1>



<!-- <form action="/build" method="POST"> -->

    <div class="maincontainer-top">
        <!-- <div id="about-div"> -->
            <h3>About</h3>
            <form action="/add_about" method="post" id="about-div">
                <textarea id="about" type="text" name="about"></textarea>
                <!-- <p id="about-show">{{ session.get("about") }}</p> -->
                <text id="about-show"></text>
                <button id="about-btn">Send</button><br><br>
            </form>
        </div>

        <div id="experience-div">
            <h3>Experience</h3>
                <textarea id="experience" type="text" name="experience"></textarea>
                <h4 id="experience-show">{{ session.get("experience") }}</h4>
        </div>
    </div>


    <div class="maincontainer-middle">
        <div id="project-div">
            <h3>Project</h3>
                <textarea id="project" type="text" name="project"></textarea>
                <h4 id="project-show">{{ session.get("project") }}</h4>
        </div>
                
        <div id="skill-div">
            <h3>Skill</h3>
                <textarea id="skill" type="text" name="skill"></textarea>
                <h4 id="skill-show">{{ session.get("skill") }}</h4>
        </div>
    </div>


    <div class="maincontainer-bottom">
        <div id="education-div">
            <h3>Education</h3>
                <textarea id="education" type="text" name="education"></textarea>
                <h4 id="education-show">{{ session.get("education") }}</h4>
        </div>
                
        <div id="contact-div">
            <h3>Contact</h3>
                <textarea id="contact" type="text" name="contact" ></textarea>
                <h4 id="contact-show">{{ session.get("contact") }}</h4>
        </div>
        
        <div>
            <button id="submit-btn" type="submit">Submit</button>
        </div>  
<!-- </form> -->


<form action="/build" method="POST">
    <div>
        <button id="logout-btn" type="submit">Log Out</button>
    </div>
</form>

    
    <script>
        "use strict";
        const submittion = document.querySelector('#submit-btn');
        submittion.addEventListener('click', () => {
            alert('Form submit')
        });
    </script>
</div>


<input type="button" class="color-button" value="Dark Mode" onClick="darkMode()">
<input type="button" class="color-button" value="Light Mode" onClick="lightMode()">

    <script type="text/javascript">
        function darkMode() {
            document.body.style.background="black";
        }
        function lightMode() {
            document.body.style.background="lightgrey";
        }
    </script>

</body>

<script>
    $('#about-div').on('submit', (evt) => {
        evt.preventDefault();
        alert('Handled with AJAX!');

        const addAbout = {
            'about': $('#about').val()
        };

        $.post('/add_about', addAbout, (res) => {
            $('#about-div').html(res);
            console.log(res)
            

        });
    });
</script>


{% endblock body%}